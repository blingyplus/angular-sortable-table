<div class="flex justify-center p-4">
  <div class="w-full bg-white rounded-lg shadow-md p-4">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold text-center w-full">Users List</h2>
    </div>
    <div class="flex justify-end mb-4">
      <input
        (keyup)="applyFilter($event)"
        placeholder="Search"
        class="w-full max-w-xs p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      />
    </div>
    <div class="overflow-x-auto">
      <table mat-table [dataSource]="dataSource" class="min-w-full bg-white">
        <ng-container matColumnDef="name">
          <th
            mat-header-cell
            *matHeaderCellDef
            (click)="sortData('name')"
            class="px-4 py-2 cursor-pointer bg-gray-100 hover:bg-gray-200 font-semibold"
          >
            Name
            <span *ngIf="sortedColumn === 'name' && sortDirection === 'asc'"
              >▲</span
            >
            <span *ngIf="sortedColumn === 'name' && sortDirection === 'desc'"
              >▼</span
            >
          </th>
          <td
            mat-cell
            *matCellDef="let element"
            class="px-4 py-2 border-b border-gray-200"
          >
            {{ element.name }}
          </td>
        </ng-container>

        <ng-container matColumnDef="username">
          <th
            mat-header-cell
            *matHeaderCellDef
            (click)="sortData('username')"
            class="px-4 py-2 cursor-pointer bg-gray-100 hover:bg-gray-200 font-semibold"
          >
            Username
            <span *ngIf="sortedColumn === 'username' && sortDirection === 'asc'"
              >▲</span
            >
            <span
              *ngIf="sortedColumn === 'username' && sortDirection === 'desc'"
              >▼</span
            >
          </th>
          <td
            mat-cell
            *matCellDef="let element"
            class="px-4 py-2 border-b border-gray-200"
          >
            {{ element.username }}
          </td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th
            mat-header-cell
            *matHeaderCellDef
            (click)="sortData('email')"
            class="px-4 py-2 cursor-pointer bg-gray-100 hover:bg-gray-200 font-semibold"
          >
            Email
            <span *ngIf="sortedColumn === 'email' && sortDirection === 'asc'"
              >▲</span
            >
            <span *ngIf="sortedColumn === 'email' && sortDirection === 'desc'"
              >▼</span
            >
          </th>
          <td
            mat-cell
            *matCellDef="let element"
            class="px-4 py-2 border-b border-gray-200"
          >
            {{ element.email }}
          </td>
        </ng-container>

        <ng-container matColumnDef="phone">
          <th
            mat-header-cell
            *matHeaderCellDef
            (click)="sortData('phone')"
            class="px-4 py-2 cursor-pointer bg-gray-100 hover:bg-gray-200 font-semibold"
          >
            Phone
            <span *ngIf="sortedColumn === 'phone' && sortDirection === 'asc'"
              >▲</span
            >
            <span *ngIf="sortedColumn === 'phone' && sortDirection === 'desc'"
              >▼</span
            >
          </th>
          <td
            mat-cell
            *matCellDef="let element"
            class="px-4 py-2 border-b border-gray-200"
          >
            {{ element.phone }}
          </td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns"
          class="bg-gray-50"
        ></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          class="hover:bg-gray-100 odd:bg-gray-50 even:bg-white"
        ></tr>
      </table>
    </div>
    <mat-paginator
      [length]="totalRecords"
      [pageSize]="pageSize"
      [pageSizeOptions]="pageSizeOptions"
      (page)="handlePageEvent($event)"
      class="mt-4"
    >
    </mat-paginator>
  </div>
</div>
